<!DOCTYPE html>
<html lang="en">
  <style>
    canvas{
       background-color: antiquewhite; 
    }
  </style>

  <body>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <script>
      var canvas = document.getElementById('myCanvas')
      var ctx = canvas.getContext('2d');
      var x = 225, y = 225, dir = 0, speed = 10;

      window.requestAnimationFrame = (function () {
        return window.requestAnimationFrame ||
          window.webkitRequestAnimationFrame ||
          window.mozRequestAnimationFrame ||
          function (callback) {
            window.setTimeout(callback, 17);
          };
      }());

      document.addEventListener("keydown", (e) => {
        switch(e.keyCode){
          case 87:
            dir = 1;
            y -=50;
          break;

          case 83:
            dir = 2;
            y +=50;
          break;

          case 68:
            dir = 3;
            x +=50;
          break;

          case 65:
            dir = 4;
            x -=50;
          break;
        }
      });

      function update(){
        
        if (x !== x) {
          if (x < x) {
            x += speed;
          } else {
            x -= speed;
          }
        }

        if (y !== y) {
          if (y < y) {
            y += speed;
          } else {
            y -= speed;
          }
        }
        paint();
        window.requestAnimationFrame(update);
      }

      function getNumber(numero){
        return (Math.random()*numero).toFixed(0);
      }

      function getRandomColor(){
        var coolor = "("+getNumber(255)+"," + getNumber(255) + "," + getNumber(255) +")";
        return "rgb" + coolor;
      }
           
      function paint(){
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = getRandomColor();
        ctx.fillRect(x, y, 50, 50);
      }

      update();

    </script>
  </body>
</html>

